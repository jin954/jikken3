<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clock and Pomodoro Timer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="clock" class="active">
        <div id="date"></div>
        <div id="time"></div>
    </div>

    <div id="pomodoro">
        <div id="timer">25:00</div>
        <input type="number" id="pomodoro-minutes" value="25" min="1" max="60"> 分
        <button id="set-pomodoro">設定</button>
        <button id="start-pomodoro">開始</button>
        <button id="reset-pomodoro">リセット</button>
    </div>

    <div class="switch">
        <label>
            <input type="radio" name="mode" value="clock" checked> 時計
        </label>
        <label>
            <input type="radio" name="mode" value="pomodoro"> ポモドーロ
        </label>
    </div>

    <script src="script.js"></script>
</body>
</html>
body {
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
    background: white;
}

#date {
    font-size: 2em;
}

#time {
    font-size: 3em;
}

#clock, #pomodoro {
    text-align: center;
    display: none;
}

#clock.active, #pomodoro.active {
    display: block;
}

.switch {
    margin-top: 20px;
}

#timer {
    font-size: 3em;
}

button {
    margin: 5px;
    padding: 10px 20px;
    font-size: 1em;
}
function updateClock() {
    const now = new Date();

    const year = now.getFullYear();
    const month = String(now.getMonth() + 1).padStart(2, '0');
    const day = String(now.getDate()).padStart(2, '0');
    const weekDays = ["日", "月", "火", "水", "木", "金", "土"];
    const weekDay = weekDays[now.getDay()];

    const hours = String(now.getHours()).padStart(2, '0');
    const minutes = String(now.getMinutes()).padStart(2, '0');
    const seconds = String(now.getSeconds()).padStart(2, '0');

    const formattedDate = `${year}/${month}/${day}/(${weekDay})`;
    const formattedTime = `${hours}：${minutes}：${seconds}`;

    document.getElementById('date').textContent = formattedDate;
    document.getElementById('time').textContent = formattedTime;
}

setInterval(updateClock, 1000);
updateClock();

const clockDiv = document.getElementById('clock');
const pomodoroDiv = document.getElementById('pomodoro');
const modeSwitch = document.querySelectorAll('input[name="mode"]');

modeSwitch.forEach(radio => {
    radio.addEventListener('change', () => {
        if (radio.value === 'clock') {
            clockDiv.classList.add('active');
            pomodoroDiv.classList.remove('active');
        } else {
            clockDiv.classList.remove('active');
            pomodoroDiv.classList.add('active');
        }
    });
});

let pomodoroInterval;
const timerDisplay = document.getElementById('timer');
const startButton = document.getElementById('start-pomodoro');
const resetButton = document.getElementById('reset-pomodoro');
const setButton = document.getElementById('set-pomodoro');
const minutesInput = document.getElementById('pomodoro-minutes');
let remainingTime = 25 * 60;

function updatePomodoro() {
    const minutes = String(Math.floor(remainingTime / 60)).padStart(2, '0');
    const seconds = String(remainingTime % 60).padStart(2, '0');
    timerDisplay.textContent = `${minutes}:${seconds}`;
    if (remainingTime > 0) {
        remainingTime--;
    } else {
        clearInterval(pomodoroInterval);
        alert('ポモドーロタイマーが終了しました!');
    }
}

startButton.addEventListener('click', () => {
    clearInterval(pomodoroInterval);
    pomodoroInterval = setInterval(updatePomodoro, 1000);
});

resetButton.addEventListener('click', () => {
    clearInterval(pomodoroInterval);
    remainingTime = parseInt(minutesInput.value) * 60;
    updatePomodoro();
});

setButton.addEventListener('click', () => {
    remainingTime = parseInt(minutesInput.value) * 60;
    updatePomodoro();
});

updatePomodoro();
